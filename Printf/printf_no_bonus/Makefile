#-------------------------------------
# All .c files
SRCS 		= ft_printf.c \
			  ft_put_characters.c \
			  ft_put_numbers.c

#-------------------------------------
# All .o files
OBJS 		= $(SRCS:.c=.o)
#---------------------------------------

#---------------------------------------
# Name of the Final lib file
NAME 		= libftprintf.a
#---------------------------------------

#---------------------------------------
# Compiler to use
CC 			= cc
#---------------------------------------

#---------------------------------------
# Flags to use
CFLAGS 		= -Wall -Werror -Wextra
#---------------------------------------

#----------------------------------------------------------------------------------------------
# Includes location '-I' is the includes flag './' means 'this directory'
INCS 		= -I ./
#----------------------------------------------------------------------------------------------

#----------------------------------------------------------------------------------------------
# Compiler for libs, 'ar' is the equivalent to 'cc' and 'crs' are the options of compilation
AR			= ar crs
#----------------------------------------------------------------------------------------------

#----------------------------------------------------------------------------------------------
# Remove files, 'rm' for remove 'r' for also remove directories, 'f' for force removal
RM			= rm -rf
#----------------------------------------------------------------------------------------------

#---------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# This rule runs by the command 'make libftprintf.a' or simply 'make'. '$(OBJS)' is the dependency, meaning it will run the rule '.%o : .%c' to transform the '.c' to '.o'
$(NAME): $(OBJS)
		$(AR) $(NAME) $(OBJS)
# When running the program this will look something like: 'ar crs libftprintf.a 'objs'.
#---------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#---------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# This rule gets the '.c' files and converts them to '.o' files applying the given flags
%.o : %.c
		$(CC) $(CFLAGS) -c $< -o $(<:.c=.o) $(INCS)
# When running the program this will look something like: 'cc -Wall -Werror -Wextra -c 'srcs' -o libftprintf.a -I ./'
#---------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#----------------------------------------------------
# When you run 'make all' it runs the rule $(NAME)
all: $(NAME)
#----------------------------------------------------

#----------------------------------------------------
clean:
		$(RM) $(OBJS)
# When you run 'make clean' cleans the .o files
#----------------------------------------------------

#------------------------------------------------------------------------------------------
fclean: clean
		$(RM) $(NAME)
# When you run 'make fclean' it runs the 'clean' rule and it removes the libftprintf.a file
#------------------------------------------------------------------------------------------

#---------------------------------------------------------------------------------------------------------------------------------------------
# Runs 'fclean' and 'all', meaning it cleans all the .o objects and libftprintf.a and then runs the rule 'all' which compiles everything again.
re: fclean all
#---------------------------------------------------------------------------------------------------------------------------------------------

#----------------------------------------------------
# Names of rules that are not in this format '$(...)'
.PHONY: all clean fclean re
#----------------------------------------------------